
      <ref name="RESOURCEACTION"/>
     </choice>
    </zeroOrMore>
  </define>

  <define name="RESOURCECOMMONPARAMS" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
    <optional>
      <attribute name="__independent_subtree" rha:description="Treat this and all children as an independent subtree.">
        <data type="string">
          <param name="pattern">\s*[12]\s*|[Yy][Ee][Ss]|[Nn][Oo][Nn]-[Cc][Rr][Ii][Tt][Ii][Cc][Aa][Ll]</param>
        </data>
      </attribute>
    </optional>
    <optional>
      <attribute name="__enforce_timeouts" rha:description="Consider a timeout for operations as fatal.">
        <data type="string">
          <param name="pattern">\s*[1-9][0-9]*\s*|[Yy][Ee][Ss]</param>
        </data>
      </attribute>
    </optional>

    <!-- failures -->
    <choice>
      <!-- __max_failures and __failure_expire_time only make sense when defined altogether and contain valid non-zero value -->
      <group>
        <attribute name="__max_failures" rha:description="Maximum number of failures before returning a failure to a status check.">
          <data type="int">
            <param name="minExclusive">0</param>
          </data>
        </attribute>
        <attribute name="__failure_expire_time" rha:description="Amount of time before a failure is forgotten.">
          <data type="string">
            <param name="pattern">.*[1-9][0-9]*([SsMmHhDdWwYy].*|)</param>
          </data>
        </attribute>
      </group>
      <group>
        <optional>
          <attribute name="__max_failures">
            <!-- while negative value is not a strict error as it is silently turned to zero, don't promote such a liberty -->
            <value type="int">0</value>
          </attribute>
        </optional>
        <optional>
          <attribute name="__failure_expire_time">
            <data type="string">
              <except>
                <data type="string">
                  <param name="pattern">.*[1-9][0-9]*([SsMmHhDdWwYy].*|)</param>
                </data>
              </except>
            </data>
          </attribute>
        </optional>
      </group>
    </choice>

    <!-- restarts -->
    <choice>
      <!-- __max_restarts and __restart_expire_time only make sense when defined altogether and contain valid non-zero value -->
      <group>
        <attribute name="__max_restarts" rha:description="Maximum number restarts for an independent subtree before giving up.">
          <data type="int">
            <param name="minExclusive">0</param>
          </data>
        </attribute>
        <attribute name="__restart_expire_time" rha:description="Amount of time before a failure is forgotten for an independent subtree.">
          <data type="string">
            <param name="pattern">.*[1-9][0-9]*([SsMmHhDdWwYy].*|)</param>
          </data>
        </attribute>
      </group>
      <group>
        <optional>
          <attribute name="__max_restarts">
            <!-- while negative value is not a strict error as it is silently turned to zero, don't promote such a liberty -->
            <value type="int">0</value>
          </attribute>
        </optional>
        <optional>
          <attribute name="__restart_expire_time">
            <data type="string">
              <except>
                <data type="string">
                  <param name="pattern">.*[1-9][0-9]*([SsMmHhDdWwYy].*|)</param>
                </data>
              </except>
            </data>
          </attribute>
        </optional>
      </group>
    </choice>
  </define>

  <define name="RESOURCEACTION">
   <zeroOrMore>
    <element name="action" rha:description="Overrides resource action timings for a resource instance.">
     <attribute name="name" rha:description="Name of resource action (start, stop, status, etc.)."/>
     <optional>
      <attribute name="depth" rha:description="Status check depth (resource agent dependent; * = all depths)."/>
     </optional>
     <optional>
      <attribute name="interval" rha:description="Status check interval."/>
     </optional>
     <optional>
      <attribute name="timeout" rha:description="Action timeout.  Meaningless unless __enforce_timeouts is set for this resource."/>
     </optional>
    </element>
   </zeroOrMore>
  </define>
<!-- End autogenerated resources definitions -->
